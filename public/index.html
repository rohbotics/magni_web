<!DOCTYPE html>
<html style="width:100%;height:100vh;">
<head>
    <meta charset="utf-8">
    <title>Robot Commander V2</title>
	<link rel="stylesheet" type="text/css" href="assets/css/shared.css" />
	<link rel="stylesheet" type="text/css" media="screen and (orientation:portrait)" href="assets/css/portrait.css" />
	<link rel="stylesheet" type="text/css" media="screen and (orientation:landscape)" href="assets/css/landscape.css" />
	<link rel="icon" type="image/png" href="assets/img/icon.png">
	<meta name="viewport" content="width=device-width, user-scalable=no">
</head>

<body oncontextmenu="return false">

	<script src="lib/roslib.min.js"></script>
	<script src="lib/virtualjoystick.js"></script>
	<script src="settings.js"></script>
	<script src="roslink.js"></script>
	<script src="main.js"></script>
	<script src="modal.js"></script>
	<script src="record.js"></script>

	<div id="batteryModal" class="modal">

		<div class="modal-content">
			<span class="close zoom" onclick="Modal.close('batteryModal')">&times;</span>
			<h1>Battery Info</h1>
			<h2 id="batt_voltage">Voltage: --.- V</h2>
			<h2 id="batt_percentage">Percentage: --- %</h2>
		</div>

	</div>

	<div id="recordModal" class="modal">

		<div class="modal-content">

			<span class="close zoom" onclick="Modal.close('recordModal')">&times;</span>

			<h1>Record Telemetry and Video</h1>

			<label for="savepath">Save location:</label>
			<select id="savepath">
				<!-- Add path here dynamically. -->
			</select>

			<button type="button" style="color: #969696; margin-top: 5px; display: inline-block;" onclick="Settings.advanced_options()">Advanced Options</button>
			<button id="recbutton" style="color: red; margin-top: 5px; display: inline-block;" onclick="Record.toggle()" type="button">Start Recording ‚óè</button>

			<div id="advancedrec" style="display:none">
				<p>Topics you would like to record:</p>
				<div id="rostopics" class="container">
					<!-- Add ROS topics here dynamically. -->
				</div>
			</div>


		</div>

	</div>

	<div id="settingsModal" class="modal">

		<div class="modal-content">

			<span class="close zoom" onclick="Modal.close('settingsModal')">&times;</span>

			<h1>Settings</h1>

			<p id="lineartext">Linear speed: 0.5</p>
			<input type="range" min="0.05" max="1.5" value="0.5" step="0.05" class="slider" id="linearSlider" oninput="Settings.linear(this)">

			<p id="angulartext">Angular speed: 0.5</p>
			<input type="range" min="0.05" max="1.5" value="0.5" step="0.05" class="slider" id="angularSlider" oninput="Settings.angular(this)">

			<hr/>

			<input id="rotate_camera" onclick="Settings.rotate_camera(this);" type="checkbox"/> <label for="checkbox">Rotate Video for 180 degrees</label> <br/>
			<input id="use_joystick" onclick="Settings.use_joystick(this);" type="checkbox"/> <label for="checkbox">Use joystick</label> <br/>

			<hr/>

			<h1>Calibration</h1>

			<label for="number">Left wheel size: </label> <input id="leftwheel" type="number" min="0.9" max="1.1" step="0.001" value="1.0" size="4">  <br/>
			<label for="number">Right wheel size:</label> <input id="rightwheel" type="number" min="0.9" max="1.1" step="0.001" value="1.0" size="4">  <br/>
			<button id="calibrations" type="button" style="margin-top: 5px" onclick="Settings.calibrate()">Apply Calibrations</button>

		</div>

	</div>

	<div id="portrait">

		<img id="logo" src="assets/img/logo.png">

		<div style="width:100%; height:40%;">
			<img id="pvideostream" src="assets/img/novideo.jpg">
		</div>

		<div style="width:100%; height:60%;">

			<div style="position:absolute; bottom:80vw; right:15vw; margin-top:1.0vw;">
				<img id="psettingsicon" class="zoom" src="assets/img/settings.svg" onclick="Modal.open('settingsModal'); Settings.load();">
				<img id="precordicon" class="zoom" src="assets/img/record_off.svg" onclick="Modal.open('recordModal'); Record.populate_topics();">
				<img id="pbatteryicon" class="zoom" src="assets/img/unknown.svg" onclick="Modal.open('batteryModal');">
			</div>

			<div style="position:absolute; bottom:8vw; left:13vw;">
				<div>
					<img id="pforward_left" class="arrow noselect zoom" src="assets/img/left.svg" onmousedown="mouseEvent(1.0,1.0,'pforward_left')" ontouchstart="touchEvent(1.0,1.0,'pforward_left')">
					<img id="pforward" class="arrow noselect zoom" src="assets/img/arrow.svg" onmousedown="mouseEvent(1.0,0.0,'pforward')" ontouchstart="touchEvent(1.0,0.0,'pforward')">
					<img id="pforward_right" class="arrow noselect zoom" src="assets/img/right.svg" onmousedown="mouseEvent(1.0,-1.0,'pforward_right')" ontouchstart="touchEvent(1.0,-1.0,'pforward_right')">
				</div>
				<div>
					<img id="pleft" class="arrow noselect zoom" src="assets/img/left_circle.svg" onmousedown="mouseEvent(0.0,1.0,'pleft')" ontouchstart="touchEvent(0.0,1.0,'pleft')">
					<img id="pstop" class="arrow noselect zoom" src="assets/img/stop.svg" onmousedown="mouseEvent(0.0,0.0,'pstop')" ontouchstart="touchEvent(0.0,0.0,'pstop')">
					<img id="pright" class="arrow noselect zoom" src="assets/img/right_circle.svg" onmousedown="mouseEvent(0.0,-1.0,'pright')" ontouchstart="touchEvent(0.0,-1.0,'pright')">
				</div>
				<div>
					<img id="pbackward_left" class="arrow noselect zoom" src="assets/img/leftdown.svg" onmousedown="mouseEvent(-1.0,-1.0,'pbackward_left')" ontouchstart="touchEvent(-1.0,-1.0,'pbackward_left')">
					<img id="pbackward" class="arrow noselect zoom" src="assets/img/arrowdown.svg" onmousedown="mouseEvent(-1.0,0.0,'pbackward')" ontouchstart="touchEvent(-1.0,0.0,'pbackward')">
					<img id="pbackward_right" class="arrow noselect zoom" src="assets/img/rightdown.svg" onmousedown="mouseEvent(-1.0,1.0,'pbackward_right')" ontouchstart="touchEvent(-1.0,1.0,'pbackward_right')">
				</div>
			</div>

		</div>

	</div>

	<div id="landscape">

		<img id="logo" src="assets/img/logo.png">

		<div class="column" style="width: 20%;"></div>
		<div class="column" style="width: 60%;">
			<img id="lvideostream" src="assets/img/novideo.jpg">
		</div>
		<div class="column" style="width: 20%;"></div>

		<div style="position:absolute; bottom:0px; right:0px; margin-bottom:6vw">
			<img id="lleft" class="arrow noselect zoom" style="display:inline-block;" src="assets/img/left_circle.svg" onmousedown="mouseEvent(0.0,1.0,'lleft')" ontouchstart="touchEvent(0.0,1.0,'lleft')">
			<img id="lright" class="arrow noselect zoom" style="display:inline-block;" src="assets/img/right_circle.svg" onmousedown="mouseEvent(0.0,-1.0,'lright')" ontouchstart="touchEvent(0.0,-1.0,'lright')">
		</div>

		<div style="position:absolute; bottom:0px; left:5vw; margin-bottom:2vw;">
			<img id="lforward" class="arrow noselect zoom" style="display:block;" src="assets/img/arrow.svg" onmousedown="mouseEvent(1.0,0.0,'lforward')" ontouchstart="touchEvent(1.0,0.0,'lforward')">
			<img id="lbackward" class="arrow noselect zoom" style="display:block;" src="assets/img/arrowdown.svg" onmousedown="mouseEvent(-1.0,0.0,'lbackward')" ontouchstart="touchEvent(-1.0,0.0,'lbackward')">
		</div>

		<div style="position:absolute; top:0px; right:1vw; margin-top:1.0vw;">
			<img id="lsettingsicon" class="zoom" src="assets/img/settings.svg" onclick="Modal.open('settingsModal'); Settings.load();">
			<img id="lrecordicon" class="zoom" src="assets/img/record_off.svg" onclick="Modal.open('recordModal'); Record.populate_topics();">
			<img id="lbatteryicon" class="zoom" src="assets/img/unknown.svg" onclick="Modal.open('batteryModal');">
		</div>

	</div>

</body>

</html>
